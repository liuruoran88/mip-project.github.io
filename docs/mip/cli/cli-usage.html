<!DOCTYPE html>
<html mip>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
        <meta name="format-detection" content="telephone=no">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <title>MIP 2.0</title>
        <link rel="shortcut icon" href="//www.baidu.com/favicon.ico" >
        <link rel="canonical" href="对应的原页面地址">
        <link rel="stylesheet" href="https://bos.nj.bpc.baidu.com/assets/mip/projects/mip.css">
        <style mip-custom>
        /* 自定义样式 */
        </style>
    </head>

    <body>
        <h1 id="mip2-" data-hash="#mip2-命令行工具">mip2 命令行工具</h1><p>mip2 CLI 是官方提供的命令行工具，它提供了脚手架、调试、预览、校验、构建等功能，方便开发者快速开发 MIP 页面及自定义组件。</p><h2 id="1-" data-hash="#1-依赖环境">1. 依赖环境</h2><p>mip2 CLI 使用 NPM 安装，依赖 Node 环境，推荐</p><ul><li><p><a href="https://nodejs.org/">Node.js</a> (&gt;=8.x)</p></li><li><p><a href="https://git-scm.com/">Git</a></p></li></ul><h2 id="2-mip2-cli" data-hash="#2-安装-mip2-cli">2. 安装 mip2 CLI</h2><p>打开命令行工具，输入：</p><pre><code class="lang-bash">$ npm install -g mip2
</code></pre><p>输入 <code>mip2 -V</code>，若能正常显示版本号，说明已经安装成功。</p><h2 id="3-mip2-cli-" data-hash="#3-mip2-cli-使用">3. mip2 CLI 使用</h2><h3 id="-" data-hash="#创建项目脚手架">创建项目脚手架</h3><pre><code class="lang-bash">$ mip2 init [project-name]
</code></pre><p>示例：</p><pre><code class="lang-bash">$ mip2 init myproject
</code></pre><p>生成项目结构如下</p><pre><code>myproject
    ├── common                          // 组件公用代码，如 utils 等
    ├── components                      // 组件目录，编写组件代码
    │   └── mip-example
    │       ├── mip-example.md          // 组件功能、属性说明
    │       ├── mip-example.vue         // 组件本身
    │       └── test
    │           └── mip-example.html    // 单个组件测试、预览
    ├── mip.config.js                   // 调试服务器配置
    ├── package.json
    ├── static                          // 静态资源，如图片、字体
    └── test
        └── index.html                  // 页面测试预览
</code></pre><p>我们可以在项目的 <code>components</code> 目录中开发站点所需的自定义组件，然后依据 <code>test/index.html</code> 页面模板，引用官方或自定义组件来实现 MIP 页面。</p><p>通常情况下，官方提供的<a href="https://github.com/mip-project/mip-components">通用组件库</a>已经能满足站点的基本需求。如果站点有使用复杂组件的场景，我们可以<a href="mip/cli/start-writing-first-mip">编写自定义组件</a>，并通过第三方组件仓库（TODO）进行提交，通过审核上线后，即能使用。</p><p>同时，我们也欢迎开发者向官方通用组件库<a href="mip/cli/contribute-to-official-repo">贡献优秀的组件</a>。</p><h3 id="-" data-hash="#启动调试服务器">启动调试服务器</h3><p>命令行工具内置了简单的调试服务器，方便开发者调试组件和页面。在项目根目录运行</p><pre><code class="lang-bash">$ mip2 dev
</code></pre><p>默认会在 <code>8111</code> 端口启动服务器，并自动调起浏览器打开 <code>test/index.html</code> ，实现预览和调试。在修改组件和页面的代码时，无需手动重启和刷新，服务器内部已经帮我们实现了这一功能。</p><p>了解详细用法：<a href="mip/cli/component-testing">调试组件</a></p><h3 id="-" data-hash="#组件和页面校验">组件和页面校验</h3><p>MIP 组件和页面都需要遵循特定的<a href="mip/components/rules">开发规范</a>，开发者提交站点 url 和组件代码时，系统会进行审核和校验。命令行工具提供了校验功能，方便我们在开发阶段就能按照相关规范进行开发和调整。</p><pre><code class="lang-bash"><span class="hljs-comment"># 校验 mip 组件，输入组件目录</span>
$ mip2 validate -c ./components

<span class="hljs-comment"># 校验 mip 页面，输入页面路径</span>
$ mip2 validate -p page.html
</code></pre><p>我们可以根据校验结果，对不符合规范的组件/页面进行相应的改进，校验通过后再进行提交。</p><h3 id="-" data-hash="#构建组件">构建组件</h3><p>自定义组件开发完成后，可以使用 <code>mip2 build</code> 命令将组件代码打包成为对应的 <code>mip-组件名.js</code> 文件，供发布使用。</p><p>在项目根目录运行</p><pre><code class="lang-bash">$ mip2 build
</code></pre><p>默认将在 /dist 目录产出打包压缩后的组件资源。了解详细用法：<a href="mip/cli/component-development">组件构建</a></p>
        <script src="http://bos.nj.bpc.baidu.com/assets/mip/projects/mip.js"></script>
    </body>
</html>
